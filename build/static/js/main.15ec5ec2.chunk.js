(this["webpackJsonploft-taxi"]=this["webpackJsonploft-taxi"]||[]).push([[0],{155:function(e,t,r){},277:function(e,t,r){},278:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(18),o=r.n(s),c=(r(155),r(10)),i=r(11),d=r(15),l=r(16),u=r(28),p=r(25),m=r(7),b=r(141),j=r(2),h=Object(u.b)((function(e){return{isLoggedIn:!!e.auth.token}}))((function(e){var t=e.component,r=e.isLoggedIn,a=Object(b.a)(e,["component","isLoggedIn"]);return Object(j.jsx)(p.b,Object(m.a)(Object(m.a)({},a),{},{render:function(e){return r?Object(j.jsx)(t,Object(m.a)({},e)):Object(j.jsx)(p.a,{to:"/"})}}))})),f=r(311),O=r(310),A=r(9),x="data:image/png;base64,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",g="data:image/png;base64,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",v="LOG_IN",C="LOG_IN_ERROR",w="LOG_OUT",_="AUTHENTICATE",y="GET_ROUTE",N="GET_ROUTE_SUCCESS",R="GET_ROUTE_FAILURE",E="RESET_ROUTE",k=function(e){return{type:N,payload:e}},S=function(){return{type:E}},D=r(36),T=Object(A.a)({root:{padding:"0px"}})(O.a),B=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).unauthenticate=function(t){t.preventDefault(),e.props.logOut(),e.props.resetRoute()},e}return Object(i.a)(r,[{key:"render",value:function(){return Object(j.jsx)("header",{"data-testid":"header",children:Object(j.jsx)(f.a,{children:Object(j.jsxs)("div",{className:"header__content",children:[Object(j.jsxs)("div",{className:"logo header__logo",children:[Object(j.jsx)("img",{src:x,alt:"logo",className:"logo-image"}),Object(j.jsx)("img",{src:g,alt:"loft taxi",className:"logo-text"})]}),Object(j.jsx)("nav",{className:"header__menu","data-testid":"menu",children:Object(j.jsxs)("ul",{className:"menu__list",children:[Object(j.jsx)("li",{className:"menu__item",children:Object(j.jsx)(D.c,{to:"/map",className:"header__button",activeStyle:{color:"#FDBF5A"},children:"\u041a\u0430\u0440\u0442\u0430"})}),Object(j.jsx)("li",{className:"menu__item",children:Object(j.jsx)(D.c,{to:"/profile",className:"header__button",activeStyle:{color:"#FDBF5A"},children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(j.jsx)("li",{className:"menu__item",children:Object(j.jsx)(T,{onClick:this.unauthenticate,className:"header__button",children:"\u0412\u044b\u0439\u0442\u0438"})})]})})]})})})}}]),r}(n.a.Component),I={logOut:function(){return{type:w}},resetRoute:S},L=Object(u.b)(null,I)(B),U=r(100),F=r.n(U),Q=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={map:null},e.mapContainer=n.a.createRef(),e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e,t=(e=this.mapContainer.current,F.a.accessToken="pk.eyJ1IjoiZWxlbmFjaCIsImEiOiJja29jdXV4ZHIxcTU2Mnlxa3l2enc0cTdhIn0.f4jSaqU4WJP6C9ILIK3rkQ",new F.a.Map({container:e,style:"mapbox://styles/mapbox/basic-v9",center:[30.316275,59.940571],zoom:13,attributionControl:!1}));this.setState({map:t})}},{key:"componentDidUpdate",value:function(e){var t,r;e!==this.props&&this.state.map&&this.props.route.length&&(t=this.state.map,r=this.props.route,function(e,t){t.getLayer(e)&&t.removeLayer(e),t.getSource(e)&&t.removeSource(e)}("route",t),t.flyTo({center:r[0],zoom:15}),t.addLayer({id:"route",type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:r}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ffc617","line-width":8}}))}},{key:"componentWillUnmount",value:function(){this.setState({map:null})}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"map-wrapper",children:Object(j.jsx)("div",{"data-testid":"map",className:"map",ref:this.mapContainer})})}}]),r}(n.a.Component),M=Object(u.b)((function(e){return{route:e.route.route}}))(Q),z=r(37),K=r(314),W=r(316),P=r(317),G="GET_ADDRESSES",V="GET_ADDRESSES_SUCCESS",J="GET_ADDRESSES_FAILURE",X=function(e){return{type:V,payload:e}},Y="GET_CARD",H="GET_CARD_SUCCESS",Z="GET_CARD_FAILURE",q="UPDATE_CARD_SUCCESS",$="UPDATE_CARD_ERROR",ee="UPDATE_CARD",te=function(e){return{type:Y,payload:e}},re=function(e){var t=e.id,r=e.expiryDate,a=e.cardName,n=e.cvc,s=e.cardNumber;return{type:H,payload:{id:t,expiryDate:r,cardName:a,cvc:n,cardNumber:s}}},ae=Object(A.a)({root:{color:"#000000",fontSize:"18px"}})(W.a),ne=Object(A.a)({root:{display:"flex"}})(K.a),se=Object(A.a)({root:{backgroundColor:"#FDBF5A",borderRadius:"70px",border:0,color:"#000",fontSize:"21px",letterSpacing:".001em",padding:"13px 90px","&:hover":{backgroundColor:"#FFA842"},"&:disabled":{backgroundColor:"#D8D7D5",color:"#737373"}},label:{textTransform:"none"}})(O.a),oe=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={fromAddress:"",toAddress:"",fromList:[],toList:[],setAddressError:"",isLoadedRoute:e.props.route&&0!==e.props.route.length},e.handleChange=function(t){e.setState(Object(z.a)({},t.target.name,t.target.value))},e.getRoutes=function(t){t.preventDefault(),e.state.fromAddress&&e.state.toAddress&&e.props.getRoute({fromAddress:e.state.fromAddress,toAddress:e.state.toAddress})},e.goToNewOrder=function(t){e.props.resetRoute(),e.setState({fromAddress:"",toAddress:""})},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.props.getCard&&this.props.getCard(this.props.token),this.props.getAddresses&&this.props.getAddresses(),this.setState({isLoadedRoute:this.props.route&&0!==this.props.route.length}),this.props.addresses&&(this.setState({fromList:this.props.addresses}),this.setState({toList:this.props.addresses}))}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({fromList:this.props.addresses,toList:this.props.addresses,isLoadedRoute:this.props.route&&0!==this.props.route.length})}},{key:"render",value:function(){var e=this;return Object(j.jsx)(j.Fragment,{children:this.props.isProfileComplete?this.state.isLoadedRoute?Object(j.jsxs)("div",{className:"form__wrapper form__wrapper--warning-order",children:[Object(j.jsx)("h2",{className:"form__title form__title--warning-order","data-testid":"header",children:"\u0417\u0430\u043a\u0430\u0437 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d"}),Object(j.jsx)("div",{className:"form__subtitle form__subtitle--warning-order",children:"\u0412\u0430\u0448\u0435 \u0442\u0430\u043a\u0441\u0438 \u0443\u0436\u0435 \u0435\u0434\u0435\u0442 \u043a \u0432\u0430\u043c. \u041f\u0440\u0438\u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 10 \u043c\u0438\u043d\u0443\u0442."}),Object(j.jsx)(se,{type:"submit",className:"button form__button","data-testid":"submitButton",color:"primary",onClick:this.goToNewOrder,children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437"})]}):this.props.isLoaddingRoute?Object(j.jsx)("div",{className:"form__wrapper","data-testid":"header",children:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f"}):Object(j.jsxs)("form",{className:"form__wrapper form__wrapper--order",children:[Object(j.jsxs)("div",{className:"order__block",children:[Object(j.jsxs)("div",{className:"order__row",children:[Object(j.jsx)(ae,{id:"route-from-label","data-testid":"fromAddress",children:"\u041e\u0442\u043a\u0443\u0434\u0430"}),Object(j.jsx)(ne,{className:"form__select",name:"fromAddress",value:this.state.fromAddress,onChange:this.handleChange,labelId:"route-from-label",children:this.state.fromList.filter((function(t){return t!==e.state.toAddress})).map((function(e,t){return Object(j.jsx)(P.a,{value:e,children:e},t)}))})]}),Object(j.jsxs)("div",{className:"order__row",children:[Object(j.jsx)(ae,{id:"route-to-label",children:"\u041a\u0443\u0434\u0430"}),Object(j.jsx)(ne,{name:"toAddress",value:this.state.toAddress,onChange:this.handleChange,labelId:"route-to-label",children:this.state.toList.filter((function(t){return t!==e.state.fromAddress})).map((function(e,t){return Object(j.jsx)(P.a,{value:e,children:e},t)}))})]})]}),Object(j.jsx)("div",{className:"order__block order__block--padding-big",children:Object(j.jsx)(se,{type:"submit",className:"button form__button","data-testid":"submitButton",color:"primary",disabled:!(this.state.fromAddress&&this.state.toAddress),onClick:this.getRoutes,children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"})})]}):Object(j.jsxs)("div",{className:"form__wrapper form__wrapper--warning warning--order",children:[Object(j.jsx)("div",{className:"form__subtitle form__subtitle--warning","data-testid":"header",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b."}),Object(j.jsx)(D.b,{to:"/profile",className:"button form__button form__button--warning","data-testid":"submitButton",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})]})})}}]),r}(n.a.Component),ce={getCard:te,getAddresses:function(){return{type:G}},getRoute:function(e){var t=e.fromAddress,r=e.toAddress;return{type:y,payload:{fromAddress:t,toAddress:r}}},resetRoute:S},ie=Object(u.b)((function(e){var t=e.auth,r=e.card,a=e.addresses,n=e.route;return{token:t.token,isProfileComplete:!!r.data.id,isLoaddingAddresses:a.isLoaddingAddresses,errorAddresses:a.error,addresses:a.addresses,isLoaddingRoute:n.isLoaddingRoute,route:n.route,errorRoute:n.error}}),ce)(oe),de=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(M,{}),Object(j.jsx)(ie,{})]})}}]),r}(n.a.Component),le=r(315),ue=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"form__wrapper form__wrapper--warning",children:[Object(j.jsx)("h2",{className:"form__title form__title--warning","data-testid":"header",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(j.jsx)("div",{className:"form__subtitle form__subtitle--warning",children:"\u041f\u043b\u0430\u0442\u0451\u0436\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b. \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u0438."}),Object(j.jsx)(D.b,{to:"/map",className:"button form__button form__button--warning","data-testid":"submitButton",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"})]})}}]),r}(n.a.Component),pe=Object(A.a)({root:{backgroundColor:"#FDBF5A",borderRadius:"70px",border:0,color:"#000",fontSize:"25px",padding:"15px 140px","&:hover":{backgroundColor:"#FFA842"}},label:{textTransform:"capitalize"}})(O.a),me=Object(A.a)({root:{"& label.Mui-focused":{color:"#000000",fontWeight:"700",fontSize:"16px"},"& .MuiInput-underline:after":{borderBottomColor:"#E4E4E4",borderBottomWidth:"1px"}}})(le.a),be=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={id:e.props.cardData&&e.props.cardData.id,cardNumber:e.props.cardData&&e.props.cardData.cardNumber,expiryDate:e.props.cardData&&e.props.cardData.expiryDate,cardName:e.props.cardData&&e.props.cardData.cardName,cvc:e.props.cardData&&e.props.cardData.cvc,errorTextName:"",errorTextCard:"",errorTextDate:"",errorTextCvc:""},e.handleChange=function(t){e.setState(Object(z.a)({},t.target.name,t.target.value))},e.updateProfile=function(t){t.preventDefault(),e.props.updateCard(e.state.cardNumber,e.state.expiryDate,e.state.cardName,e.state.cvc,e.props.token)},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.props.getCard&&this.props.getCard(this.props.token)}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({id:this.props.cardData.id,cardNumber:this.props.cardData.cardNumber,expiryDate:this.props.cardData.expiryDate,cardName:this.props.cardData.cardName,cvc:this.props.cardData.cvc})}},{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[this.props.isLoaddingCard?Object(j.jsx)("div",{className:"form__wrapper form__wrapper--profile","data-testid":"header",children:"Loading..."}):this.props.isUpdatedCard?Object(j.jsx)(ue,{}):Object(j.jsxs)("div",{className:"form__wrapper form__wrapper--profile",children:[Object(j.jsx)("h2",{className:"form__title form__title--profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(j.jsx)("div",{className:"form__subtitle",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(j.jsxs)("form",{className:"form__form",children:[Object(j.jsxs)("div",{className:"form__block",children:[Object(j.jsxs)("div",{className:"form__column",children:[Object(j.jsx)("div",{className:"form__row",children:Object(j.jsx)(me,{required:!0,className:"form__input",pattern:"[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u0451]",id:"name",label:"\u0418\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430",type:"text",name:"cardName","data-testid":"nameInput",placeholder:"Loft",value:this.state.cardName,error:""!==this.state.errorTextName,helperText:this.state.errorTextName,onChange:this.handleChange})}),Object(j.jsx)("div",{className:"form__row",children:Object(j.jsx)(me,{required:!0,className:"form__input",id:"card",label:"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b",name:"cardNumber","data-testid":"cardInput",placeholder:"5545230034324521",value:this.state.cardNumber,error:""!==this.state.errorTextCard,helperText:this.state.errorTextCard,onChange:this.handleChange})}),Object(j.jsxs)("div",{className:"form__row form__row--profile",children:[Object(j.jsx)("div",{className:"row__input row__input--small",children:Object(j.jsx)(me,{required:!0,className:"form__input form__input--small",id:"date",label:"MM/YY",name:"expiryDate","data-testid":"dateInput",placeholder:"05/08",value:this.state.expiryDate,error:""!==this.state.errorTextDate,helperText:this.state.errorTextDate,onChange:this.handleChange})}),Object(j.jsx)("div",{className:"row__input row__input--small",children:Object(j.jsx)(me,{required:!0,className:"form__input form__input--small",id:"cvc",label:"CVC",name:"cvc","data-testid":"cvcInput",placeholder:"667",value:this.state.cvc,error:""!==this.state.errorTextCvc,helperText:this.state.errorTextCvc,onChange:this.handleChange})})]})]}),Object(j.jsx)("div",{className:"form__column",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"card__wrapper",children:[Object(j.jsxs)("div",{className:"card__row",children:[Object(j.jsx)("img",{src:x,alt:"logo",className:"logo-image logo-image--card"}),Object(j.jsx)("span",{className:"card__date",children:this.state.expiryDate})]}),Object(j.jsx)("div",{className:"card__row",children:Object(j.jsx)("span",{className:"card__number",children:this.state.cardNumber})}),Object(j.jsxs)("div",{className:"card__row",children:[Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAbCAYAAABr/T8RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEJSURBVHgB7Zb9DYIwEMWvhQHcAJhE3MAR3EA3sEwiTqAbiBu4AR8TOAH4jpTEGJE2fP0hvwQamva9Xo9LThBI09R3HOdUVVVIX/A8T/CY5/kRgyJLhBAJtGPonJs5yaZSylub6RBo7bgoigv8VrUxIuUofJoAHGCLIPe18ZiRtnDgl4snpp7oHCY2e1wkPKKesKmtjqv/1J/YiJrq8VUr6sYmGmWwJpI0E/9nbJpjG5TJokHK6R1TvaWcJmMppyFQJotmK6f5rnrOOt5Rd881ZB1npOv4ShPStEiyLMtIn2IKMhjXtyeDIHjCfIOJB40IR8o+8Mv4W9hsRjMeoi9ef85D8A7BhCx4AS36fbVDRzu7AAAAAElFTkSuQmCC",alt:"chip",className:"card__chip"}),Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAcCAYAAAAeC42RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJeSURBVHgB1ZiLbdswEIZP9NuGXxuoG6QT1J3A6QR1N2gnaDtBRyg6QZMJ6k5Qb1BtYPkN+Nn/F0RXjuVYMS8G8gGBaEo5/jgeeTx6koHhcNjJ5XLd3W7XwU8ff634Veh53gDPwWazuW+32/1r2CHemYF6xpjP8SBZCCDgS6PR+PEcdpKkCsdAPgb6ieaNXEaw3W7fsqFhBzMQPHxxJHw8Hvcwld/k/zRexHK5DCFa8vm8kx0QQvwHiL9Ldh4Ih6dvYw85sV6vZbFYRO1KpULx4gpCp5cMnb3wODz+iKOn4R2Zz+eCWbMDSq1Wi56O0POvbdgY2wvRv8RRNEmKJmyzT4FWMhoi4Vz1kn3Fn2S1Wh2ItnAW+E6BG6zB92xE8zcajf6KgvDpdJoqnHChMmQUCJrN5ivDpCAKorkgT4km9DqSiyjgUzMcYbqiAIWfQylcOHtdg9V+aXI4gB49h5LHScdgeq8m/LFQeiI+dxXnLZBkEaUovGXkhULhoSiQJTMqZE9LSOGBKJBFFPdyDRByA1rqiwIoEM5+oyWcRYfBbnAvChQKBZVvsgAH3L3clM8WvP5VFCiVSiffFYtF0YAlXfS0HfA6z+LOyWg2mx0lI21vRzZtDwZ7JwpbIyue5A7DdrVaFQVCW8eSvXBWFnjxSRyhd5MhUy6XVfbvuO4M7O8ji3Hd+V0cjwI4CfKuRKVYhp2PD68qHrueYCnny2UM4tATDTtp1xOpGYEfchFweuRpmZUXOT38b1TUatlJ+yBT8E0mkzcY/JZH4Pj8vr86Qx8H6TMp1Ov139ewQ/4BxfI/9W41DQwAAAAASUVORK5CYII=",alt:"masterCard",className:"card__masterCard"})]})]})})})]}),Object(j.jsx)("div",{className:"form__block form__block--button",children:Object(j.jsx)(pe,{type:"submit",className:"button form__button","data-testid":"submitButton",color:"primary",onClick:this.updateProfile,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]}),";"]})}}]),r}(n.a.Component),je={getCard:te,updateCard:function(e){var t=e.cardNumber,r=e.expiryDate,a=e.cardName,n=e.cvc,s=e.token;return{type:ee,payload:{cardNumber:t,expiryDate:r,cardName:a,cvc:n,token:s}}}},he=Object(u.b)((function(e){var t=e.card;return{token:e.auth.token,cardData:t.data,isLoaddingCard:t.isLoaddingCard,error:t.error,isUpdatedCard:t.isUpdatedCard}}),je)(be),fe=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"background",children:Object(j.jsx)("div",{className:"overlay",children:Object(j.jsx)(he,{})})})}}]),r}(n.a.Component),Oe=r(30),Ae=r(42),xe=r(87),ge=Ae.a().shape({email:Ae.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").matches(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,"\u041d\u0435 \u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d email"),password:Ae.b().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c").min(3,"\u0414\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),ve=Object(A.a)({root:{backgroundColor:"#FDBF5A",borderRadius:"70px",border:0,color:"#000",fontSize:"25px",padding:"15px 140px","&:hover":{backgroundColor:"#FFA842"},"&:disabled":{backgroundColor:"#D8D7D5",color:"#737373"}},label:{textTransform:"capitalize"}})(O.a),Ce=Object(A.a)({root:{backgroundColor:"transparent",border:0,color:"#FDBF5A",fontSize:"16px","&:hover":{backgroundColor:"transparent"}},label:{textTransform:"capitalize"}})(O.a),we=Object(A.a)({root:{"& label.Mui-focused":{color:"#000000",fontWeight:"700",fontSize:"16px"},"& .MuiInput-underline:after":{borderBottomColor:"#E4E4E4",borderBottomWidth:"1px"}}})(le.a),_e={authenticate:function(e,t){return{type:_,payload:{email:e,password:t}}}},ye=Object(u.b)(null,_e)((function(e){var t=e.authenticate,r=e.changeAuthMode,a=Object(Oe.e)({mode:"onSubmit",resolver:Object(xe.a)(ge)}),n=a.handleSubmit,s=a.formState,o=s.errors,c=s.dirtyFields,i=a.control,d=!(c.email&&c.password);return Object(j.jsxs)("div",{className:"form__wrapper","data-testid":"loginForm",children:[Object(j.jsx)("h2",{className:"form__title",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(j.jsxs)("form",{className:"form__form",onSubmit:n((function(e){t(e.email,e.password)})),children:[Object(j.jsx)("div",{className:"form__row",children:Object(j.jsx)(Oe.a,{name:"email",id:"email",defaultValue:"",control:i,render:function(e){var t,r=e.field;return Object(j.jsx)(we,Object(m.a)(Object(m.a)({},r),{},{label:"Email",placeholder:"mail@mail.ru",helperText:(null===o||void 0===o||null===(t=o.email)||void 0===t?void 0:t.message)&&o.email.message,fullWidth:!0,"data-testid":"emailInput"}))}})}),Object(j.jsx)("div",{className:"form__row row__after",children:Object(j.jsx)(Oe.a,{name:"password",id:"password",defaultValue:"",control:i,render:function(e){var t,r=e.field;return Object(j.jsx)(we,Object(m.a)(Object(m.a)({},r),{},{label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"*************",helperText:(null===o||void 0===o||null===(t=o.password)||void 0===t?void 0:t.message)&&o.password.message,type:"password",fullWidth:!0,"data-testid":"passwordInput"}))}})}),Object(j.jsx)("div",{className:"form__row",children:Object(j.jsx)(ve,{type:"submit",className:"button form__button",color:"primary",disabled:d,"data-testid":"buttonSubmit",children:"\u0412\u043e\u0439\u0442\u0438"})})]}),Object(j.jsxs)("div",{className:"form__reg",children:[Object(j.jsx)("div",{className:"form__reg-text",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(j.jsx)(Ce,{onClick:r,"data-testid":"goToRegForm",className:"form__reg-button",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})),Ne="SIGN_IN",Re="SIGN_IN_ERROR",Ee="REGISTRATE",ke=Ae.a().shape({email:Ae.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").matches(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,"\u041d\u0435 \u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d email"),name:Ae.b(),password:Ae.b().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c").min(3,"\u0414\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),Se=Object(A.a)({root:{"& label.Mui-focused":{color:"#000000",fontWeight:"700",fontSize:"16px"},"& .MuiInput-underline:after":{borderBottomColor:"#E4E4E4",borderBottomWidth:"1px"}}})(le.a),De=Object(A.a)({root:{backgroundColor:"#FDBF5A",borderRadius:"70px",border:0,color:"#000",fontSize:"25px",padding:"15px 60px","&:hover":{backgroundColor:"#FFA842"},"&:disabled":{backgroundColor:"#D8D7D5",color:"#737373"}},label:{textTransform:"capitalize"}})(O.a),Te=Object(A.a)({root:{backgroundColor:"transparent",border:0,color:"#FDBF5A",fontSize:"16px","&:hover":{backgroundColor:"transparent"}},label:{textTransform:"none"}})(O.a),Be={registrate:function(e,t,r,a){return{type:Ee,payload:{email:e,password:t,name:r,surname:a}}}},Ie=Object(u.b)(null,Be)((function(e){var t=e.registrate,r=e.changeAuthMode,a=Object(Oe.e)({mode:"onSubmit",resolver:Object(xe.a)(ke)}),n=a.handleSubmit,s=a.formState,o=s.errors,c=s.dirtyFields,i=a.control,d=!(c.email&&c.name&&c.password);return Object(j.jsxs)("div",{className:"form__wrapper",children:[Object(j.jsx)("h2",{className:"form__title","data-testid":"header",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsxs)("form",{className:"form__form",onSubmit:n((function(e){var r=e.name.split(" "),a=r[0]||"",n=r[1]||"";t(e.email,e.password,a,n)})),children:[Object(j.jsx)("div",{className:"form__row",children:Object(j.jsx)(Oe.a,{name:"email",id:"email",defaultValue:"",control:i,render:function(e){var t,r=e.field;return Object(j.jsx)(Se,Object(m.a)(Object(m.a)({},r),{},{label:"Email",placeholder:"mail@mail.ru",className:"form__input",helperText:(null===o||void 0===o||null===(t=o.email)||void 0===t?void 0:t.message)&&o.email.message,fullWidth:!0,"data-testid":"emailInput"}))}})}),Object(j.jsx)("div",{className:"form__row",children:Object(j.jsx)(Oe.a,{name:"name",id:"name",defaultValue:"",control:i,render:function(e){var t,r=e.field;return Object(j.jsx)(Se,Object(m.a)(Object(m.a)({},r),{},{label:"\u041a\u0430\u043a \u0432\u0430\u0441 \u0437\u043e\u0432\u0443\u0442?",placeholder:"\u041f\u0435\u0442\u0440 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447",className:"form__input",helperText:(null===o||void 0===o||null===(t=o.name)||void 0===t?void 0:t.message)&&o.name.message,fullWidth:!0,"data-testid":"nameInput"}))}})}),Object(j.jsx)("div",{className:"form__row",children:Object(j.jsx)(Oe.a,{name:"password",id:"password",defaultValue:"",control:i,render:function(e){var t,r=e.field;return Object(j.jsx)(Se,Object(m.a)(Object(m.a)({},r),{},{label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"*************",className:"form__input",helperText:(null===o||void 0===o||null===(t=o.password)||void 0===t?void 0:t.message)&&o.password.message,fullWidth:!0,"data-testid":"passwordInput"}))}})}),Object(j.jsx)("div",{className:"form__row",children:Object(j.jsx)(De,{type:"submit",className:"button form__button","data-testid":"regButton",disabled:d,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object(j.jsxs)("div",{className:"form__reg",children:[Object(j.jsx)("span",{className:"form__reg-text",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(j.jsx)(Te,{onClick:r,"data-testid":"goToLoginForm",className:"form__reg-button",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})),Le=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={mode:"login"},e.handleModeChange=function(){var t="login"===e.state.mode?"registration":"login";e.setState({mode:t})},e}return Object(i.a)(r,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"left-column",children:Object(j.jsxs)("div",{className:"logo home-page__logo",children:[Object(j.jsx)("img",{src:x,alt:"logo",className:"logo-image"}),Object(j.jsx)("img",{src:g,alt:"loft taxi",className:"logo-text"})]})}),Object(j.jsx)("div",{className:"right-column",children:"login"===this.state.mode?Object(j.jsx)(ye,{changeAuthMode:this.handleModeChange}):Object(j.jsx)(Ie,{changeAuthMode:this.handleModeChange})})]})}}]),r}(n.a.Component),Ue=(r(277),function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this;return Object(j.jsxs)("main",{"data-testid":"container",children:[this.props.isLoggedIn&&Object(j.jsx)(L,{}),Object(j.jsxs)(p.d,{children:[Object(j.jsx)(p.b,{exact:!0,path:"/",render:function(){return e.props.isLoggedIn?Object(j.jsx)(p.a,{to:"/map"}):Object(j.jsx)(Le,{})}}),Object(j.jsx)(h,{path:"/map",component:de}),Object(j.jsx)(h,{path:"/profile",component:fe})]})]})}}]),r}(n.a.Component)),Fe=Object(u.b)((function(e){var t=e.auth;return{isLoggingIn:t.isLoggingIn,isLoggedIn:!!t.token,error:t.error}}))(Ue),Qe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,319)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;r(e),a(e),n(e),s(e),o(e)}))},Me=r(46),ze=r(139),Ke=r(140),We={isLoggingIn:!1,token:localStorage.getItem("token"),email:"",error:""},Pe={isLoaddingCard:!1,isUpdatedCard:!1,error:"",data:{id:"",cardNumber:"",expiryDate:"",cardName:"",cvc:""}},Ge={isLoaddingAddresses:!1,error:"",addresses:[]},Ve={isLoaddingRoute:!1,route:[]},Je=Object(Me.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case Ne:return Object(m.a)(Object(m.a)({},e),{},{isLoggingIn:!1,error:"",token:t.payload});case C:case Re:return Object(m.a)(Object(m.a)({},e),{},{isLoggingIn:!1,error:t.payload});case w:return Object(m.a)(Object(m.a)({},e),{},{isLoggingIn:!1,token:""});default:return e}},card:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingCard:!0,isUpdatedCard:!1});case H:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingCard:!1,isUpdatedCard:!1,data:t.payload});case Z:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingCard:!1,isUpdatedCard:!1,error:t.payload});case ee:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingCard:!1,isUpdatedCard:!1});case q:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingCard:!1,isUpdatedCard:!0});case $:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingCard:!1,isUpdatedCard:!1,error:t.payload});default:return e}},addresses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingAddresses:!1});case V:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingAddresses:!0,addresses:t.payload});case J:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingAddresses:!1,error:t.payload});default:return e}},route:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingRoute:!0});case N:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingRoute:!1,route:t.payload});case R:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingRoute:!1});case E:return Object(m.a)(Object(m.a)({},e),{},{isLoaddingRoute:!1,route:[]});default:return e}}}),Xe=r(5),Ye=r.n(Xe),He=r(13),Ze=r(24),qe=function(){var e=Object(Ze.a)(Ye.a.mark((function e(t,r){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://loft-taxi.glitch.me/auth",{method:"POST",body:JSON.stringify({email:t,password:r}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),$e=Ye.a.mark(tt),et=Ye.a.mark(rt);function tt(e){var t,r,a,n;return Ye.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,r=t.email,a=t.password,s.next=3,Object(He.b)(qe,r,a);case 3:if(!(n=s.sent).success){s.next=10;break}return localStorage.setItem("token",n.token),s.next=8,Object(He.d)((c=n.token,{type:v,payload:c}));case 8:s.next=12;break;case 10:return s.next=12,Object(He.d)((o=n.error,{type:C,payload:o}));case 12:case"end":return s.stop()}var o,c}),$e)}function rt(){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.e)(_,tt);case 2:case"end":return e.stop()}}),et)}var at=function(){var e=Object(Ze.a)(Ye.a.mark((function e(t,r,a,n){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://loft-taxi.glitch.me/register",{method:"POST",body:JSON.stringify({email:t,password:r,name:a,surname:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t,r,a,n){return e.apply(this,arguments)}}(),nt=Ye.a.mark(ot),st=Ye.a.mark(ct);function ot(e){var t,r,a,n,s,o;return Ye.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,r=t.email,a=t.password,n=t.name,s=t.surname,c.next=3,Object(He.b)(at,r,a,n,s);case 3:if(!(o=c.sent).success){c.next=10;break}return localStorage.setItem("token",o.token),c.next=8,Object(He.d)((d=o.token,{type:Ne,payload:d}));case 8:c.next=12;break;case 10:return c.next=12,Object(He.d)((i=o.error,{type:Re,payload:i}));case 12:case"end":return c.stop()}var i,d}),nt)}function ct(){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.e)(Ee,ot);case 2:case"end":return e.stop()}}),st)}var it=function(){var e=Object(Ze.a)(Ye.a.mark((function e(t){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://loft-taxi.glitch.me/card?token=".concat(t)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(Ze.a)(Ye.a.mark((function e(t,r,a,n,s){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://loft-taxi.glitch.me/card",{method:"POST",body:JSON.stringify({cardNumber:t,expiryDate:r,cardName:a,cvc:n,token:s}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t,r,a,n,s){return e.apply(this,arguments)}}(),lt=Ye.a.mark(bt),ut=Ye.a.mark(jt),pt=Ye.a.mark(ht),mt=Ye.a.mark(ft);function bt(e){var t,r;return Ye.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(He.b)(it,t);case 3:if(!(r=a.sent).id){a.next=9;break}return a.next=7,Object(He.d)(re(r));case 7:a.next=11;break;case 9:return a.next=11,Object(He.d)((n=r.error,{type:Z,payload:n}));case 11:case"end":return a.stop()}var n}),lt)}function jt(e){var t,r,a,n,s,o,c;return Ye.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,r=t.cardNumber,a=t.expiryDate,n=t.cardName,s=t.cvc,o=t.token,i.next=3,Object(He.b)(dt,r,a,n,s,o);case 3:if(!(c=i.sent).success){i.next=9;break}return i.next=7,Object(He.d)({type:q});case 7:i.next=11;break;case 9:return i.next=11,Object(He.d)((d=c.error,{type:$,payload:d}));case 11:case"end":return i.stop()}var d}),ut)}function ht(){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.e)(Y,bt);case 2:case"end":return e.stop()}}),pt)}function ft(){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.e)(ee,jt);case 2:case"end":return e.stop()}}),mt)}var Ot=function(){var e=Object(Ze.a)(Ye.a.mark((function e(){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://loft-taxi.glitch.me/addressList").then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),At=Ye.a.mark(gt),xt=Ye.a.mark(vt);function gt(){var e;return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(He.b)(Ot);case 2:if(!(e=t.sent).addresses){t.next=8;break}return t.next=6,Object(He.d)(X(e.addresses));case 6:t.next=10;break;case 8:return t.next=10,Object(He.d)((r=e.error,{type:J,payload:r}));case 10:case"end":return t.stop()}var r}),At)}function vt(){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.e)(G,gt);case 2:case"end":return e.stop()}}),xt)}var Ct=function(){var e=Object(Ze.a)(Ye.a.mark((function e(t,r){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(encodeURI("https://loft-taxi.glitch.me/route?address1=".concat(t,"&address2=").concat(r))).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),wt=Ye.a.mark(yt),_t=Ye.a.mark(Nt);function yt(e){var t,r,a,n;return Ye.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,r=t.fromAddress,a=t.toAddress,s.next=3,Object(He.b)(Ct,r,a);case 3:if(!(n=s.sent)){s.next=9;break}return s.next=7,Object(He.d)(k(n));case 7:s.next=11;break;case 9:return s.next=11,Object(He.d)({type:R,payload:[]});case 11:case"end":return s.stop()}}),wt)}function Nt(){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.e)(y,yt);case 2:case"end":return e.stop()}}),_t)}var Rt=Ye.a.mark(Et);function Et(){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(He.a)([Object(He.c)(rt),Object(He.c)(ct),Object(He.c)(ht),Object(He.c)(ft),Object(He.c)(vt),Object(He.c)(Nt)]);case 2:case"end":return e.stop()}}),Rt)}var kt=Object(Ke.a)(),St=Object(Me.createStore)(Je,Object(ze.composeWithDevTools)(Object(Me.applyMiddleware)(kt)));kt.run(Et);var Dt=St;o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(D.a,{children:Object(j.jsx)(u.a,{store:Dt,children:Object(j.jsx)(Fe,{})})})}),document.getElementById("root")),Qe()}},[[278,1,2]]]);
//# sourceMappingURL=main.15ec5ec2.chunk.js.map